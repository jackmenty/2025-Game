[gd_scene load_steps=15 format=3 uid="uid://bvdfl6pn0g2j3"]

[ext_resource type="PackedScene" uid="uid://bg2gkx16jyw70" path="res://Models/LVLs/lvl_3.tscn" id="1_ssfmj"]
[ext_resource type="PackedScene" uid="uid://vvxb2evv6y35" path="res://Models/LVLs/lvl_3_terrain.tscn" id="2_48g1g"]
[ext_resource type="PackedScene" uid="uid://c13r84a5ffs4y" path="res://Scenes/water.tscn" id="3_fmfqx"]
[ext_resource type="Shader" uid="uid://bi3ckf8n07tg2" path="res://Shaders/Water.gdshader" id="4_xgbke"]
[ext_resource type="PackedScene" uid="uid://dqfrll158h75v" path="res://Scenes/Player.tscn" id="5_xgbke"]
[ext_resource type="PackedScene" uid="uid://ctgvtyxgn6ecj" path="res://Scenes/rain.tscn" id="6_rstah"]
[ext_resource type="PackedScene" uid="uid://btttwighsia7w" path="res://Models/LIGHTHOUSE.glb" id="7_bicrw"]
[ext_resource type="PackedScene" uid="uid://bu1gr7xak6ahb" path="res://Scenes/water_platforms.tscn" id="8_84qyr"]
[ext_resource type="PackedScene" uid="uid://c81grsdc2rew5" path="res://Scenes/buildings.tscn" id="9_1d4ke"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_xgbke"]
sky_top_color = Color(0.134281, 0.16838, 0.215799, 1)
sky_horizon_color = Color(0.43045, 0.440011, 0.455106, 1)
ground_bottom_color = Color(0.0638982, 0.0728758, 0.149726, 1)
ground_horizon_color = Color(0.0421479, 0.0742675, 0.271115, 1)
sun_angle_max = 360.0

[sub_resource type="Sky" id="Sky_rstah"]
sky_material = SubResource("ProceduralSkyMaterial_xgbke")

[sub_resource type="Environment" id="Environment_bicrw"]
background_mode = 2
sky = SubResource("Sky_rstah")
fog_enabled = true
fog_density = 0.0035
volumetric_fog_density = 0.01

[sub_resource type="ShaderMaterial" id="ShaderMaterial_gf5bf"]
render_priority = 0
shader = ExtResource("4_xgbke")
shader_parameter/out_color = Color(0.464404, 0.63516, 1, 1)
shader_parameter/amount = 1.2
shader_parameter/speed = 9.0
shader_parameter/beer_factor = 0.2
shader_parameter/metallic = 0.6
shader_parameter/specular = 0.5
shader_parameter/roughness = 0.2

[sub_resource type="PlaneMesh" id="PlaneMesh_rstah"]
resource_local_to_scene = true
material = SubResource("ShaderMaterial_gf5bf")
size = Vector2(500, 500)
subdivide_width = 250
subdivide_depth = 250

[node name="Water_Lvl" type="Node3D"]

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_bicrw")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, -0.962142, 0.272549, 0, -0.272549, -0.962142, 0, 0, 0)
light_color = Color(0.775063, 0.775063, 0.775063, 1)
light_indirect_energy = 1.6

[node name="LVL3" parent="." instance=ExtResource("1_ssfmj")]

[node name="LVL3_TERRAIN" parent="." instance=ExtResource("2_48g1g")]
transform = Transform3D(20, 0, 0, 0, 20, 0, 0, 0, 20, -435.386, -38.9706, 85.2718)

[node name="Water" parent="." instance=ExtResource("3_fmfqx")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -429.623, -34.1794, 90.5062)

[node name="MeshInstance3D" parent="Water" index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -5.62408, 0)
mesh = SubResource("PlaneMesh_rstah")

[node name="Area3D" parent="Water/MeshInstance3D" index="0"]
transform = Transform3D(5, 0, 0, 0, 1, 0, 0, 0, 5, 0, 0, 0)

[node name="Player" parent="." instance=ExtResource("5_xgbke")]

[node name="GPUParticles3D" parent="Player" instance=ExtResource("6_rstah")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.50258, 164.228, 1.42187)
amount = 5000

[node name="LIGHTHOUSE" parent="." instance=ExtResource("7_bicrw")]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, -829.169, 103.24, 93.6743)

[node name="water_platforms" parent="." instance=ExtResource("8_84qyr")]

[node name="Buildings" parent="." instance=ExtResource("9_1d4ke")]

[editable path="Water"]
